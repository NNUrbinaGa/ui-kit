<template>
    <template if:true={templateConfig}>
        <c-quantic-result-template>
            <template if:true={templateConfig.showLabel}>
                <c-quantic-result-label slot="label" result={result}></c-quantic-result-label>
            </template>
            <template if:false={templateConfig.showLabel}>
            </template>
            <div slot="badges" class="slds-grid slds-grid_vertical-align-center">
                <div class="slds-var-m-right_xx-small">
                    <c-quantic-result-badge variant="recommended" result={result}></c-quantic-result-badge>
                </div>
                <c-quantic-result-badge variant="featured" result={result}></c-quantic-result-badge>
            </div>
            <template if:true={resultHasPreview}>
                <c-quantic-result-quickview slot="actions" engine-id={engineId} result={result}></c-quantic-result-quickview>
            </template>
            <p slot="date" class="slds-size_xx-small">
                <lightning-formatted-date-time value={result.raw.date}></lightning-formatted-date-time>
            </p>
            <h3 slot="title" class="slds-truncate">
                <c-quantic-result-link result={result} engine-id={engineId}></c-quantic-result-link>
            </h3>
            <template if:true={templateConfig.hasThumbnail}>
                <div slot="visual" class="slds-size_1-of-1 slds-medium-size_1-of-4 slds-large-size_1-of-4 slds-var-p-right_x-small slds-var-m-top_xx-small slds-var-m-bottom_x-small">
                    <img style="border-radius: 4px; border: none;" src={videoThumbnail}></img>
                </div>
            </template>
            <div slot="excerpt">
                {result.Excerpt}
            </div>
            <div slot="bottom-metadata" class="slds-grid slds-text-align_left slds-var-m-top_xx-small" style="font-size: 10px">
                <template if:true={templateConfig.hasYTDuration}>
                    <lightning-icon icon-name="utility:clock" size="xx-small"></lightning-icon>
                    <span class="slds-var-m-left_xxx-small slds-var-m-right_x-small">{videoTimeSpan}</span>
                </template>
                <template for:each={metadatas} for:item="meta">
                    <template if:true={meta.icon}>
                        <lightning-icon icon-name={meta.icon} size="xx-small" key={meta.label}></lightning-icon>
                    </template>
                    <span class="slds-var-m-left_xxx-small" key={meta.label}>{meta.label}</span>
                    <span class="slds-var-m-left_xxx-small slds-var-m-right_x-small" key={meta.label}>{meta.value}</span>
                </template>
            </div>
        </c-quantic-result-template>
    </template>
    <template if:false={templateConfig}>
        error
    </template>
</template>